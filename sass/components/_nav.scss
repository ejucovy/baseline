/*
  Nav
*/

nav.section{
  z-index:999;
}
nav.section .nav-inner{
  z-index:1000;} /* puts nav contents on top of notches and effects */

.nav-menu-label a,
nav.nav-desktop-dropdown .menu .nav-menu-label a{
  cursor:default;
  font-size:0.8rem;
  font-weight:400;
  opacity:0.6;
  padding:0.4em;}
.nav-menu-label a:hover,
nav.nav-desktop-dropdown .menu .nav-menu-label a:hover{
  color:inherit;
  background-color:transparent;
  opacity:0.6;
  text-decoration:none;}


#site-nav-label{
  display:none;}
nav{
  margin:0;}
nav ul{
  margin:0;
  padding-left:0;}
nav li,
nav li li{
  list-style-type:none;
  margin-bottom:0;}
nav a,
.nav a{
  border-bottom:0;
  text-decoration:none;}
nav.section{
  font-size:1.2rem;
  padding:5px;}
nav.section a{
  display:block;
  padding-top:0.4rem;
  padding-bottom:0.4rem;}
nav.section a:hover{
  background:rgba(21,36,43,0.1);}
.sub-menu,
ul ul.sub-menu{
  padding-left:0;}
.sub-menu a::before{
  content:'–';
  display:inline-block;
  margin-right:0.8em;
  opacity:0.3;}
.sub-menu a{
  font-size:1.15rem;
  padding-left:0.1em;}
.sub-menu .sub-menu{
  padding-left:0;
  margin-top:0;}
.sub-menu .sub-menu a{
  font-size:0.9rem;
  font-weight:500;
  padding-left:1.3rem}
.sub-menu .sub-menu a::before {
  content: "• ";
  opacity: 0.6;}


nav.section .divider a{
  border-bottom:0 none;
  font-size:0;
  pointer-events:none;
  text-indent:-9999px;
  margin-bottom:1.5rem;}
nav.section .divider a:hover{
  background:transparent !important;}


nav.section .heading a,
.menu .heading a{
  color:inherit;
  cursor:initial;
  display:block;
  font-size:0.9rem;
  font-weight:500;
  letter-spacing:0.05em;
  margin-top:2rem;
  opacity:0.5;
  pointer-events:none;
  text-transform:uppercase;}
.widget .menu .heading a{
  font-size:0.8em;
  margin-top:1rem;
  margin-bottom:0.5rem;}
nav.section .heading a:hover,
.menu .heading a:hover{
  color:inherit;
  background:transparent !important;}


.js #site-nav-label{
  background:
    rgba(255,255,255,0.6)
    url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOS4xLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4yIiBiYXNlUHJvZmlsZT0idGlueSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiDQoJIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgNjAgNjAiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPHJlY3QgZmlsbD0iIzE3MjkyRSIgd2lkdGg9IjYwIiBoZWlnaHQ9IjEyIi8+DQo8cmVjdCB5PSI0OCIgZmlsbD0iIzE3MjkyRSIgd2lkdGg9IjYwIiBoZWlnaHQ9IjEyIi8+DQo8cmVjdCB5PSIyNCIgZmlsbD0iIzE3MjkyRSIgd2lkdGg9IjYwIiBoZWlnaHQ9IjEyIi8+DQo8L3N2Zz4NCg==)
    no-repeat
    center center;
  background-size:18px 18px;
  border-radius:2px;
  color:inherit;
  cursor:pointer;
  display:inline-block;
  height:37px;
  line-height:34px;
  margin-bottom:0;
  margin-left:auto;
  order:10;
  text-indent:-9999px;
  width:37px;
  z-index:1000;}
.js #site-nav-label:hover{
  background-color:rgba(255,255,255,0.8);}
.js .text-center #site-nav-label{
  position:absolute;
  left:0;}
.js .bg-white + #header-buttons-wrap #site-nav-label{
  background-color:rgba(21,36,43,0.13);}
.js .bg-white + #header-buttons-wrap #site-nav-label:hover{
  background-color:rgba(21,36,43,0.25);}

.nav-label{
  display:none;
  margin:0 1rem;}
.main-nav-label{
  display:none;}


.nav-grid{}
.nav-grid-item{
  font-size:1.2rem;
  font-weight:bold;
  padding:1rem;
  white-space:nowrap;}


/* Mobile only */
@media only screen and (max-width: $tablet-width ){

  /* Collapsed mobile nav menus */
  nav.nav-mobile-collapsed{
    padding:10px;}
  nav.nav-mobile-collapsed .menu a,
  nav.nav-mobile-list .menu a{
    padding-left:1rem;
    padding-right:1rem;}
  .js-nav-menu-mobile-toggle{
    cursor:pointer;
    font-size:1rem;
    font-weight:bold;
    transition:all .3s;}
  .js-nav-menu-mobile-toggle a::after{
    border-left:4px solid transparent;
    border-right:4px solid transparent;
    border-top:5px solid;
    content:'';
    display:inline-block;
    height:0;
    margin-left:0.5em;
    position:relative;
    top:-0.05em;
    transition:border 0.3s;
    vertical-align:middle;
    width:0;}
  .js-nav-menu-mobile-expanded .js-nav-menu-mobile-toggle{
    opacity:0.5;
    margin-bottom:5px;}
  .js-nav-menu-mobile-expanded .js-nav-menu-mobile-toggle a::after{
    border-top:0 solid;
    border-bottom:5px solid;}

}

/* Tablet and up */
@media only screen and (min-width: $tablet-width ){

  /* Nav - tablet */
  nav.section.meta{
    padding:5px;}
  nav.section{
    padding:10px;}

  /* hide the original menu */
  #site-header .site-nav{
    display:none;}
  #site-topbar{
    min-height:66px;}

  .js #site-nav-label{
    background-position:8px center;
    line-height:27px;
    margin-bottom:0;
    padding:5px 8px 5px 27px;
    text-decoration:none;
    text-indent:0;
    width:auto;}
  #site-nav-button-label{
    display:inline-block;
    margin-left:8px;}

}


/* Tablet Only */
@media only screen and (min-width: $tablet-width ) and (max-width: $desktop-width ){


  /* Collapsed tablet nav menus */
  nav.nav-tablet-collapsed{
    padding:10px;}
  .js-nav-menu-tablet-toggle{
    cursor:pointer;
    font-size:1rem;
    font-weight:bold;
    transition:all .3s;}
  .js-nav-menu-tablet-toggle a::after{
    border-left:4px solid transparent;
    border-right:4px solid transparent;
    border-top:5px solid;
    content:'';
    display:inline-block;
    height:0;
    margin-left:0.5em;
    position:relative;
    top:-0.05em;
    transition:border 0.3s;
    vertical-align:middle;
    width:0;}
  .js-nav-menu-tablet-expanded .js-nav-menu-tablet-toggle{
    opacity:0.5;
    margin-bottom:5px;}
  .js-nav-menu-tablet-expanded .js-nav-menu-tablet-toggle a::after{
    border-top:0 solid;
    border-bottom:5px solid;}

}


/* Desktop and larger */
@media only screen and (min-width: $desktop-width ){

  /* Nav - desktop */
  #site-nav-label.nav-desktop-dropdown,
  #site-nav-label.nav-desktop-list,
  .nav-desktop-dropdown .nav-label,
  .nav-desktop-list .nav-label{
    display:none;}

  nav.section{
    padding:20px;}

  #language-nav{
	  text-align: left;}
  #language-nav a{
    font-size:0.7rem;}

/* Treat slide-out JS nav as default and hide the original menu */
  #site-header .site-nav{
    display:none;}
  nav.section a{
    font-size:1.6rem;}
  nav.section .sub-menu a{
    font-size:1.35rem;
    font-weight:500;}
  nav.section .sub-menu .sub-menu a{
    font-size:1rem;}

  /* Horizontal dropdown nav - desktop */
  #site-header .site-nav.nav-desktop-dropdown{
    display:block;
    text-align:center;}
  #site-header.header-layout-flex .site-nav.nav-desktop-dropdown{
    display:inline-block;}

  nav.section{
    font-size:0; /* removes whitespace between menu items */
    padding:0; }
  nav.nav-desktop-dropdown.bg-transparent,
  #site-header nav.nav-desktop-dropdown.bg-transparent{
    border:0 none;}
  nav.nav-desktop-dropdown .menu-label{
    display:none;}
  nav.nav-desktop-dropdown .menu li{
    display:inline-block;
    font-size:1rem;
    margin-bottom:0;
    position:relative;}
  nav.nav-desktop-dropdown .menu a{
    border-bottom:0 none;
    display:block;
    font-size:1.1rem;
    padding:0.8rem 1rem;}
  nav.nav-desktop-dropdown.bg-transparent a{
    background-color:rgba(21,36,43,0.6);
    color:#fff;}
  nav.nav-desktop-dropdown.bg-transparent a:hover{
    background-color:rgba(21,36,43,1);}
  nav.nav-desktop-dropdown.meta.text-left .menu li{
    left:-0.8rem;
    position:relative;}

  /* .parent styles */
  nav.nav-desktop-dropdown.bg-dkgray .menu a:hover,
  .header-layout-flex.bg-dkgray .nav-desktop-dropdown .menu a:hover{
    background-color:rgba(255,255,255,0.2);}

  nav.nav-desktop-dropdown .menu a:hover,
  nav.nav-desktop-dropdown .parent:hover > a,
  .header-layout-flex nav.nav-desktop-dropdown .menu a:hover,
  .header-layout-flex nav.nav-desktop-dropdown .parent:hover > a{
    background-color:#17292e;
    color:#fff;
    opacity:1;}

  nav.nav-desktop-dropdown .parent > a{
    padding-right:1.5em !important;
    padding-bottom:0.1em;}
  nav.nav-desktop-dropdown .parent > a::after{
    content:'';
    display:block;
    opacity:0.6;
    position:absolute;
    right:0.5em;
    top:1.4em;
    border-top:0.4em solid;
    border-left:0.3em solid transparent;
    border-right:0.3em solid transparent;}

  /* Submenu level 1 */
  nav.nav-desktop-dropdown .sub-menu{
    background:#17292e;
    /* For clarity on black-on-black */
    border-bottom:1px solid rgba(255,255,255,0.2);
    border-left:1px solid rgba(255,255,255,0.2);
    border-right:1px solid rgba(255,255,255,0.2);
    color:#fff;
    display:none;
    margin:0;
    position:absolute;
    text-align:left;
    min-width:300px;}
  nav.nav-desktop-dropdown .parent:hover .sub-menu{
    display:block;}
  nav.nav-desktop-dropdown .sub-menu li,
  nav.nav-desktop-dropdown .sub-menu li:first-child{
    border-left:0 none;
    border-right:0 none;
    display:block;}
  nav.nav-desktop-dropdown .sub-menu a{
    color:#fff;}
  nav.nav-desktop-dropdown .sub-menu a::before{
    content:'';
    margin:0;}
  nav.nav-desktop-dropdown .sub-menu a:hover{
    background:rgba(255,255,255,0.1);}
  nav.nav-desktop-dropdown .sub-menu .parent a::after{
    display:none;}
  /* if a menu item with children is last, re-align the dropdown to prevent it from going offscreen */
  nav.nav-desktop-dropdown .parent:last-child .sub-menu {
      left: auto;
      right: 0;
  }


  /* Submenu level 2 */
  nav.nav-desktop-dropdown .sub-menu .sub-menu{
    border:0 none;
    display:block;
    padding-left:0;
    position:static;}
  nav.nav-desktop-dropdown .sub-menu .sub-menu a{
    color:rgba(255,255,255,0.7);
    font-size:0.9rem;
    padding:0.3em 0.5em 0.3em 2em;}
  nav.nav-desktop-dropdown .sub-menu .sub-menu a::before{
    content:'– ';
    position:absolute;
    left:1em;}

  /* .meta dropdown */
  nav.nav-desktop-dropdown.meta .menu a{
    font-size:0.65rem;
    font-weight:500;
    letter-spacing:0.2em;
    padding:0.6em 1.2em;
    text-transform: uppercase;}
  /* AR */
  nav.nav-desktop-dropdown.meta .menu .lang-ar a{
    direction:rtl;
    letter-spacing:0;}
  nav.nav-desktop-dropdown.meta .menu .current-menu-item a{
    font-weight:bold;}

}
